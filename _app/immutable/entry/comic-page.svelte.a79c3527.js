import{S as E,i as C,s as q,k as d,l as _,m as g,h as o,n as f,b as v,G as p,H as h,L as H,M as J,g as P,d as U,q as k,r as b,a as R,c as S,J as G,u as L,y as x,z as V,A as X,B as A}from"../chunks/index.846ed73b.js";import{r as B,b as F}from"../chunks/request.ee4a2739.js";function D(a){try{return a()}catch(e){throw console.error(e),e}}async function M(a){const e="https://fwd.innopolis.app/api/hw2",r=new URLSearchParams;return r.append("email",a),B(F(e,r))}async function z(a){const e="https://getxkcd.vercel.app/api/comic",r=new URLSearchParams;return r.append("num",a),B(F(e,r))}async function N(){const a="i.nafikov@innopolis.university",e=await D(()=>M(a));console.log("Comic request ID by email is:",e);const r=await D(()=>z(e));return console.log(`XkcdComic "${r.title}":`,r),r}function O(a){return D(()=>new Date(parseInt(a.year),parseInt(a.month)-1,parseInt(a.day)))}function T(a){let e,r;return{c(){e=d("div"),r=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0});var s=g(e);r=_(s,"DIV",{class:!0});var n=g(r);n.forEach(o),s.forEach(o),this.h()},h(){f(r,"class","inner-circle svelte-1laulxk"),f(e,"class","outer-circle svelte-1laulxk")},m(t,s){v(t,e,s),p(e,r)},p:h,i:h,o:h,d(t){t&&o(e)}}}class W extends E{constructor(e){super(),C(this,e,null,T,q,{})}}function j(a){let e,r,t=a[6]+"",s,n;return{c(){e=d("p"),r=k("Error occurred: ["),s=k(t),n=k("]")},l(l){e=_(l,"P",{});var i=g(e);r=b(i,"Error occurred: ["),s=b(i,t),n=b(i,"]"),i.forEach(o)},m(l,i){v(l,e,i),p(e,r),p(e,s),p(e,n)},p:h,i:h,o:h,d(l){l&&o(e)}}}function K(a){let e,r,t,s,n,l,i,u,I,$;return{c(){e=d("h2"),r=k(a[1]),t=R(),s=d("figure"),n=d("img"),i=R(),u=d("figcaption"),I=k("Upload Date: "),$=k(a[0]),this.h()},l(c){e=_(c,"H2",{class:!0});var m=g(e);r=b(m,a[1]),m.forEach(o),t=S(c),s=_(c,"FIGURE",{class:!0});var y=g(s);n=_(y,"IMG",{class:!0,alt:!0,src:!0}),i=S(y),u=_(y,"FIGCAPTION",{class:!0});var w=g(u);I=b(w,"Upload Date: "),$=b(w,a[0]),w.forEach(o),y.forEach(o),this.h()},h(){f(e,"class","comic-title svelte-gkg8sq"),f(n,"class","comic-img"),f(n,"alt",a[3]),G(n.src,l=a[2])||f(n,"src",l),f(u,"class","svelte-gkg8sq"),f(s,"class","svelte-gkg8sq")},m(c,m){v(c,e,m),p(e,r),v(c,t,m),v(c,s,m),p(s,n),p(s,i),p(s,u),p(u,I),p(u,$)},p(c,m){m&2&&L(r,c[1]),m&8&&f(n,"alt",c[3]),m&4&&!G(n.src,l=c[2])&&f(n,"src",l),m&1&&L($,c[0])},i:h,o:h,d(c){c&&o(e),c&&o(t),c&&o(s)}}}function Q(a){let e,r;return e=new W({}),{c(){x(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),r=!0},p:h,i(t){r||(P(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Y(a){let e,r,t={ctx:a,current:null,token:null,hasCatch:!0,pending:Q,then:K,catch:j,value:5,error:6,blocks:[,,,]};return H(a[4](),t),{c(){e=d("div"),t.block.c(),this.h()},l(s){e=_(s,"DIV",{id:!0,class:!0});var n=g(e);t.block.l(n),n.forEach(o),this.h()},h(){f(e,"id","container"),f(e,"class","svelte-gkg8sq")},m(s,n){v(s,e,n),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,r=!0},p(s,[n]){a=s,J(t,a,n)},i(s){r||(P(t.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const l=t.blocks[n];U(l)}r=!1},d(s){s&&o(e),t.block.d(),t.token=null,t=null}}}function Z(a,e,r){let t,s,n,l;async function i(){const u=await N();r(0,t=O(u).toLocaleDateString()),r(1,s=u.title),r(2,n=u.img),r(3,l=u.alt)}return[t,s,n,l,i]}class ee extends E{constructor(e){super(),C(this,e,Z,Y,q,{})}}function te(a){let e,r;return e=new ee({}),{c(){x(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,s){X(e,t,s),r=!0},p:h,i(t){r||(P(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}class ae extends E{constructor(e){super(),C(this,e,null,te,q,{})}}export{ae as default};
