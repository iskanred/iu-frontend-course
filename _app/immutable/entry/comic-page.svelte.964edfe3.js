import{S as E,i as C,s as P,k as d,l as _,m as v,h as o,n as f,b as g,G as p,H as h,L as J,M,g as U,d as q,q as k,r as b,a as R,c as S,J as G,u as L,y as V,z as X,A,B}from"../chunks/index.846ed73b.js";import{r as F,b as H}from"../chunks/request.ee4a2739.js";function D(s){try{return s()}catch(e){throw console.error(e),e}}async function x(s){const e="https://fwd.innopolis.app/api/hw2",r=new URLSearchParams;return r.append("email",s),F(H(e,r))}async function z(s){const e="https://getxkcd.vercel.app/api/comic",r=new URLSearchParams;return r.append("num",s),F(H(e,r))}async function N(){const s="i.nafikov@innopolis.university",e=await D(()=>x(s));console.log("Comic request ID by email is:",e);const r=await D(()=>z(e));return console.log(`XkcdComic "${r.title}":`,r),r}function O(s){return D(()=>new Date(parseInt(s.year),parseInt(s.month)-1,parseInt(s.day)))}function T(s){let e,r;return{c(){e=d("div"),r=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0});var a=v(e);r=_(a,"DIV",{class:!0}),v(r).forEach(o),a.forEach(o),this.h()},h(){f(r,"class","inner-circle svelte-a8dvmu"),f(e,"class","outer-circle svelte-a8dvmu")},m(t,a){g(t,e,a),p(e,r)},p:h,i:h,o:h,d(t){t&&o(e)}}}class W extends E{constructor(e){super(),C(this,e,null,T,P,{})}}function j(s){let e,r,t=s[6]+"",a,n;return{c(){e=d("p"),r=k("Error occurred: ["),a=k(t),n=k("]")},l(l){e=_(l,"P",{});var i=v(e);r=b(i,"Error occurred: ["),a=b(i,t),n=b(i,"]"),i.forEach(o)},m(l,i){g(l,e,i),p(e,r),p(e,a),p(e,n)},p:h,i:h,o:h,d(l){l&&o(e)}}}function K(s){let e,r,t,a,n,l,i,u,I,$;return{c(){e=d("h2"),r=k(s[1]),t=R(),a=d("figure"),n=d("img"),i=R(),u=d("figcaption"),I=k("Upload Date: "),$=k(s[0]),this.h()},l(c){e=_(c,"H2",{class:!0});var m=v(e);r=b(m,s[1]),m.forEach(o),t=S(c),a=_(c,"FIGURE",{class:!0});var y=v(a);n=_(y,"IMG",{class:!0,alt:!0,src:!0}),i=S(y),u=_(y,"FIGCAPTION",{class:!0});var w=v(u);I=b(w,"Upload Date: "),$=b(w,s[0]),w.forEach(o),y.forEach(o),this.h()},h(){f(e,"class","comic-title svelte-9mav60"),f(n,"class","comic-img"),f(n,"alt",s[3]),G(n.src,l=s[2])||f(n,"src",l),f(u,"class","svelte-9mav60"),f(a,"class","svelte-9mav60")},m(c,m){g(c,e,m),p(e,r),g(c,t,m),g(c,a,m),p(a,n),p(a,i),p(a,u),p(u,I),p(u,$)},p(c,m){m&2&&L(r,c[1]),m&8&&f(n,"alt",c[3]),m&4&&!G(n.src,l=c[2])&&f(n,"src",l),m&1&&L($,c[0])},i:h,o:h,d(c){c&&o(e),c&&o(t),c&&o(a)}}}function Q(s){let e,r;return e=new W({}),{c(){V(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p:h,i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function Y(s){let e,r,t={ctx:s,current:null,token:null,hasCatch:!0,pending:Q,then:K,catch:j,value:5,error:6,blocks:[,,,]};return J(s[4](),t),{c(){e=d("div"),t.block.c(),this.h()},l(a){e=_(a,"DIV",{id:!0,class:!0});var n=v(e);t.block.l(n),n.forEach(o),this.h()},h(){f(e,"id","container"),f(e,"class","svelte-9mav60")},m(a,n){g(a,e,n),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,r=!0},p(a,[n]){s=a,M(t,s,n)},i(a){r||(U(t.block),r=!0)},o(a){for(let n=0;n<3;n+=1){const l=t.blocks[n];q(l)}r=!1},d(a){a&&o(e),t.block.d(),t.token=null,t=null}}}function Z(s,e,r){let t,a,n,l;async function i(){const u=await N();r(0,t=O(u).toLocaleDateString()),r(1,a=u.title),r(2,n=u.img),r(3,l=u.alt)}return[t,a,n,l,i]}class ee extends E{constructor(e){super(),C(this,e,Z,Y,P,{})}}function te(s){let e,r;return e=new ee({}),{c(){V(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,a){A(e,t,a),r=!0},p:h,i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}class se extends E{constructor(e){super(),C(this,e,null,te,P,{})}}export{se as default};
